<!DOCTYPE HTML>
<html lang="" xmlns="http://www.w3.org/1999/html"
      xmlns:th="http://www.thymeleaf.org">


<head>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <script crossorigin="anonymous" src="https://kit.fontawesome.com/3620a0a7fb.js"></script>
    <link href="/style.css" rel="stylesheet">
    <link href="../assets/images/logos/favicon.png" rel="shortcut icon" type="image/png"/>
    <link href="../assets/css/styles.min.css" rel="stylesheet"/>
    <title></title>
</head>
<body>
<div class="page-wrapper" data-header-position="fixed" data-layout="vertical" data-navbarbg="skin6"
     data-sidebar-position="fixed"
     data-sidebartype="full" id="main-wrapper">
    <div th:replace="fragments/sidebar :: sidebar"></div>

    <div class="body-wrapper">
        <div th:replace="fragments/header :: header"></div>

        <div class="container-fluid mt-4">
            <form method="get" th:action="@{/search/user}">
                <i class="fa-solid fa-magnifying-glass"></i>
                <input type="submit" value="아이디를 검색하세요">
            </form>
            <div class="no-follow-msg mt-3" th:if="${message}" th:text="${message}"></div>

            <div class="card mb-4">
                <div class="card-body d-flex flex-column gap-3">
                    <div>
                        <h6>총 읽은 책</h6>
                        <p th:text="${readingStats.totalBooks}">0</p>
                    </div>
                    <div>
                        <h6>총 읽은 페이지</h6>
                        <p th:text="${readingStats.totalPages}">0</p>
                    </div>
                    <div>
                        <h6>월별 평균 페이지</h6>
                        <p th:text="${#numbers.formatDecimal(readingStats.avgPagesPerMonth, 1, 2)}">0</p>
                    </div>
                </div>
            </div>
            <div class="mt-4" th:if="${posts}">
                <h5 class="mb-3">팔로잉 독서 피드</h5>
                <div class="card mb-2" th:each="post : ${posts}">
                    <div class="card-body">
                        <div class="d-flex justify-content-between mb-2">
                            <h6 class="mb-0" th:text="${post.loginId}"></h6>
                            <small class="text-muted"
                                   th:text="${#temporals.format(post.createdTime, 'MM월 dd일 HH:mm')}"></small>
                        </div>

                        <!-- 책 제목 -->
                        <p class="mb-1"><strong th:text="${post.bookTitle}"></strong></p>

                        <!-- 포스트 내용 -->
                        <p th:text="${post.content}"></p>

                        <!-- 페이지 정보 -->
                        <small class="text-muted"
                               th:text="'p.' + ${post.startPage} + ' ~ p. ' + ${post.endPage}"></small>
                    </div>
                </div>
            </div>
        </div>


    </div>


</div>

<script src="../assets/libs/jquery/dist/jquery.min.js"></script>
<script src="../assets/libs/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="../assets/js/sidebarmenu.js"></script>
<script src="../assets/js/app.min.js"></script>
<script src="../assets/libs/simplebar/dist/simplebar.js"></script>
</body>
</html>