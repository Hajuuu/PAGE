<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta charset="utf-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <script crossorigin="anonymous" src="https://kit.fontawesome.com/3620a0a7fb.js"></script>

    <link href="/style.css" rel="stylesheet">
    <link rel="shortcut icon" th:href="@{/assets/images/logos/favicon.png}" type="image/png"/>
    <link rel="stylesheet" th:href="@{/assets/css/styles.min.css}"/>
</head>


<body>

<div class="page-wrapper" data-header-position="fixed" data-layout="vertical" data-navbarbg="skin6"
     data-sidebar-position="fixed"
     data-sidebartype="full" id="main-wrapper">

    <div th:replace="fragments/sidebar :: sidebar"></div>

    <div class="body-wrapper">
        <div th:replace="fragments/header :: header"></div>

        <div class="container-fluid">

            <div class="card">
                <div class="card-body">

                    <!-- 책 상세 -->
                    <div class="text-center mb-4">
                        <h4 class="fw-semibold">📚 [[${book.title}]]</h4>

                        <div class="my-3">
                            <img class="book-img-post" th:if="${book.image != null}" th:src="${book.image}"/>
                            <i class="fa-solid fa-book fa-5x text-secondary" th:if="${book.image == null}"></i>
                        </div>

                        <h6 class="text-muted" th:text="${book.author}"></h6>

                        <a class="btn btn-primary mt-3"
                           th:href="@{/books/{id}/new(id=${book.id})}">
                            ✏️ 독후감 입력하기
                        </a>
                    </div>

                    <hr>

                    <h5 class="fw-semibold mb-3">독후감 목록</h5>

                    <div class="text-center text-muted py-5" th:if="${posts.isEmpty()}">
                        아직 독후감이 없습니다.<br>첫 독후감을 작성해보세요! ✨
                    </div>

                    <div class="row" th:if="${!posts.isEmpty()}">
                        <th:block th:each="post : ${posts}">
                            <div class="col-md-4 mb-3">
                                <div class="card">
                                    <div class="card-body">
                                        <p class="text-start text-muted mb-1"
                                           th:text="${#temporals.format(post.createdTime, 'yyyy.MM.dd')}"></p>
                                        <p class="card-text" th:text="${post.content}"></p>
                                        <p class="card-text text-end text-muted">
                                            p. [[${post.startPage}]] ~ [[${post.endPage}]]
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </th:block>
                    </div>

                </div>
            </div>

        </div>
    </div>

</div>
<script th:src="@{/assets/libs/jquery/dist/jquery.min.js}"></script>
<script th:src="@{/assets/libs/bootstrap/dist/js/bootstrap.bundle.min.js}"></script>
<script th:src="@{/assets/js/sidebarmenu.js}"></script>
<script th:src="@{/assets/js/app.min.js}"></script>
<script th:src="@{/assets/libs/simplebar/dist/simplebar.js}"></script>

</body>
</html>
